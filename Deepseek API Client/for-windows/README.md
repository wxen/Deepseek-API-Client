# Deepseek API Client for Windows

适用于 Windows 的极简 Deepseek 官方 API 调用客户端，提供 GUI 和 CLI 两种使用方式，支持会话管理、历史对话记录编辑、API 参数配置等功能。

## 项目定位

- **极简设计**：专注于核心功能，避免不必要的复杂性
- **双模式支持**：同时提供 GUI（图形界面）和 CLI（命令行）两种使用方式
- **会话管理**：支持创建、切换、删除会话
- **历史记录编辑**：支持查看、编辑、删除历史对话记录
- **API 参数配置**：支持调整 API 调用参数（如温度、最大 tokens 等）
- **Windows 原生支持**：完美适配 Windows 环境

## 项目结构

```
Deepseek-API-Client for win/
├── src/                  # 源代码目录
│   ├── cli_main.py       # CLI 版本主文件（Python）
│   ├── gui_main.py       # GUI 版本主文件（Python）
├── 启动GUI.bat           # Windows GUI 启动脚本
├── 启动CLI.bat           # Windows CLI 启动脚本
├── requirements.txt      # 依赖项文件
├── LICENSE               # 许可证文件
└── README_Windows.md     # 本说明文档
```

## 快速开始

### 前置要求

- Python 3.7+
- pip（Python 包管理器）

### 依赖项安装

1. 打开命令提示符或 PowerShell
2. 进入项目目录
3. 运行依赖安装命令：
```bash
pip install -r requirements.txt
```

### 运行方式

#### GUI 模式（推荐）

直接双击 `启动GUI.bat` 文件即可。

或在命令行中运行：
```bash
python src\gui_main.py
```

#### CLI 模式

直接双击 `启动CLI.bat` 文件即可。

或在命令行中运行：
```bash
python src\cli_main.py
```

## 使用方法详解

### CLI 模式使用

#### 主菜单

启动后会看到主菜单：
```
===== DeepSeek API 客户端 =====
1. 会话管理
2. 聊天
3. 配置管理
4. 退出
```

#### 1. 会话管理

选择 `1` 进入会话管理菜单：
- **列出所有会话**：查看当前所有会话
- **创建新会话**：输入会话名称创建新会话
- **删除会话**：删除指定会话（默认会话不可删除）
- **切换会话**：切换到指定会话

#### 2. 聊天功能

选择 `2` 进入聊天菜单：
- **查看聊天历史**：查看当前会话的聊天记录
- **发送消息**：输入消息内容，按空行结束发送
- **编辑消息**：修改历史消息内容
- **删除消息**：删除历史消息

#### 3. 配置管理

选择 `3` 进入配置管理菜单：
- **查看当前配置**：查看 API 密钥和模型参数
- **编辑配置**：修改 API 密钥、模型名称、温度等参数

### GUI 模式使用

#### 1. 左侧会话管理

- **会话列表**：显示所有会话，当前会话会标记为 "[当前]"
- **新建按钮**：创建新会话
- **删除按钮**：删除选中的会话

#### 2. 右侧聊天面板

- **聊天历史**：显示当前会话的聊天记录
- **消息输入框**：输入消息内容，按 Ctrl+Enter 发送
- **操作提示**：使用方向键选择消息，按空格键编辑

#### 3. 配置标签页

- **API Key**：输入 Deepseek API 密钥
- **模型**：输入模型名称（默认：deepseek-chat）
- **参数调整**：调整温度、最大 Tokens 等参数
- **保存配置**：保存修改的配置

## 常见问题

### 1. 程序无法启动
- 检查 Python 是否正确安装
- 检查依赖项是否安装完整：运行 `pip install -r requirements.txt`

### 2. 中文字体显示异常
- GUI 已自动适配 Windows 常用字体（微软雅黑）
- 如果仍有问题，请确保系统已安装常用中文字体

### 3. 配置不生效
- 确保点击了"保存配置"按钮（GUI 模式）
- 检查 `config.json` 文件是否在项目根目录

## 配置文件说明

首次运行时，项目会自动创建以下文件：
- `config.json`：存储配置信息（API 密钥、模型参数等）
- `sessions.json`：存储会话和聊天历史

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。
